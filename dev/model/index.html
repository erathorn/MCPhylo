<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model · MCPhylo.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MCPhylo.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Index</a></li><li><a class="tocitem" href="../likelihood/">Likelihood</a></li><li><a class="tocitem" href="../distributions/">Distributions</a></li><li class="is-active"><a class="tocitem" href>Model</a><ul class="internal"><li><a class="tocitem" href="#Dependent"><span>Dependent</span></a></li><li><a class="tocitem" href="#Graph"><span>Graph</span></a></li><li><a class="tocitem" href="#Initialization"><span>Initialization</span></a></li><li><a class="tocitem" href="#MCMC"><span>MCMC</span></a></li><li><a class="tocitem" href="#Model-Building"><span>Model Building</span></a></li></ul></li><li><a class="tocitem" href="../output/">Output</a></li><li><a class="tocitem" href="../samplers/">Samplers</a></li><li><a class="tocitem" href="../utils/">Utils</a></li><li><a class="tocitem" href="../links/">Links</a></li><li><a class="tocitem" href="../developers/">For Developers</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/erathorn/MCPhylo.jl/blob/master/docs/src/model.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Model"><a class="docs-heading-anchor" href="#Model">Model</a><a id="Model-1"></a><a class="docs-heading-anchor-permalink" href="#Model" title="Permalink"></a></h1><p>The Model type is designed to store the set of all model nodes, including parameter set \Theta. In particular, it stores Dependent type objects in its nodes dictionary field. Valid models are ones whose nodes form directed acyclic graphs (DAGs). Sampling functions <span>$\{f_j\}_{j=1}^{B}$</span> are saved as Sampler objects in the vector of field samplers. Vector elements j=1,\ldots,B correspond to sampling blocks <span>$\{\Theta_j\}_{j=1}^{B}$</span>.</p><h2 id="Dependent"><a class="docs-heading-anchor" href="#Dependent">Dependent</a><a id="Dependent-1"></a><a class="docs-heading-anchor-permalink" href="#Dependent" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.Logical" href="#MCPhylo.Logical"><code>MCPhylo.Logical</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Logical(f::Function, monitor::Union{Bool, Vector{Int}}=true)</code></pre><p>Constructor for a Logical model node. This function assumes a the output of the logical operation to be scalar.</p><ul><li><p><code>f</code>: Function specifying the deterministic operation performed on its arguments. These arguments are other nodes of the model.</p></li><li><p><code>monitor</code> : Indicates whether the results should be monitored, i.e.saved.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/dependent.jl#L126-L135">source</a></section><section><div><pre><code class="nohighlight hljs">Logical(d::Integer, f::Function, monitor::Union{Bool, Vector{Int}}=true)</code></pre><p>Constructor for a Logical model node.</p><ul><li><p><code>d</code> : Specifies the dimension of the output.</p></li><li><p><code>f</code> : Specifies the deterministic operation performed on its arguments. These arguments are other nodes of the model.</p></li><li><p><code>monitor</code> : Indicates whether the results should be monitored, i.e.saved.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/dependent.jl#L145-L155">source</a></section><section><div><pre><code class="nohighlight hljs">Logical(d::T, f::Function, monitor::Union{Bool, Vector{Int}}=true) where T&lt;:GeneralNode</code></pre><p>Constructor for a Logical model node, which can hold a Node structure, i.e. a tree.</p><ul><li><p><code>f</code> is a function specifying the deterministic operation performed on its arguments. These arguments are other nodes of the model.</p></li><li><p><code>monitor</code> indicates whether the results should be monitored, i.e. saved.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/dependent.jl#L165-L173">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.Stochastic" href="#MCPhylo.Stochastic"><code>MCPhylo.Stochastic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Stochastic(f::Function, monitor::Union{Bool, Vector{Int}}=true)</code></pre><p>Constructor for a Stochastic model node. This function assumes a the output of the logical operation to be scalar.</p><ul><li><p><code>f</code> : Specifies the distributional relationship between the arguments and the node. These arguments are other nodes of the model.</p></li><li><p><code>monitor</code> : Indicates whether the results should be monitored, i.e. saved.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/dependent.jl#L272-L281">source</a></section><section><div><pre><code class="nohighlight hljs">Stochastic(d::N, f::Function, monitor::Union{Bool, Vector{Int}}=true) where N&lt;:GeneralNode</code></pre><p>Constructor for a Stochastic model node, which can hold a Node structure, i.e. a tree.</p><ul><li><code>f</code> : Specifies the distributional reslationship between the arguments and the node.</li></ul><p>These arguments are other nodes of the model.</p><ul><li><code>monitor</code> : Indicates whether the results should be monitored, i.e. saved.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/dependent.jl#L321-L331">source</a></section></article><h2 id="Graph"><a class="docs-heading-anchor" href="#Graph">Graph</a><a id="Graph-1"></a><a class="docs-heading-anchor-permalink" href="#Graph" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.draw" href="#MCPhylo.draw"><code>MCPhylo.draw</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">draw(m::Model; filename::AbstractString=&quot;&quot;)</code></pre><p>Draw a GraphViz DOT-formatted graph representation of model nodes and their relationships.</p><p>The model drawn to an external file or standard output. Stochastic, logical, and input nodes will be represented by ellipses, diamonds, and rectangles, respectively. Nodes that are unmonitored in MCMC simulations will be gray-colored.</p><ul><li><p><code>m</code> : model for which to construct a graph.</p></li><li><p><code>filename</code> : external file to which to save the resulting graph, or an empty string to draw to standard output (default). If a supplied external file name does not include a dot (<code>.</code>), the file extension <code>.dot</code> will be appended automatically.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/graph.jl#L20-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.graph2dot" href="#MCPhylo.graph2dot"><code>MCPhylo.graph2dot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">graph2dot(m::Model)</code></pre><p>Draw a GraphViz DOT-formatted graph representation of model nodes and their relationships.</p><p>A character string representation of the graph suitable for in-line processing. Stochastic, logical, and input nodes will be represented by ellipses, diamonds, and rectangles, respectively. Nodes that are unmonitored in MCMC simulations will be gray-colored.</p><ul><li><code>m</code> : model for which to construct a graph.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/graph.jl#L46-L54">source</a></section></article><h2 id="Initialization"><a class="docs-heading-anchor" href="#Initialization">Initialization</a><a id="Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.SimulationParameters-Tuple{}" href="#MCPhylo.SimulationParameters-Tuple{}"><code>MCPhylo.SimulationParameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SimulationParameters(; burnin::Int64=0, thin::Int64=1, chains::Int64=1,
                     verbose::Bool=true, trees::Bool=false,
                     asdsf::Bool=false, freq::Int64=50,
                     min_splits::Float64=0.1)::SimulationParameters</code></pre><p>Construct a <code>SimulationParameters</code> object that defines the simulation parameters for a MCMC simulation.</p><p>Returns a <code>SimulationParameters</code> type object.</p><ul><li><p><code>burnin</code>: controls how many trees are discarded before saving</p></li><li><p><code>thin</code>: controls thinning of saved trees</p></li><li><p><code>chains</code>: controls how many chains there are</p></li><li><p><code>verbose</code>: controls if sampler output is printed to the console</p></li><li><p><code>trees</code>: controls if trees should be created during simulation</p></li><li><p><code>asdsf</code>: controls if ASDSF should be calculated</p></li><li><p><code>freq</code>: controls at which interval trees are used for ASDSF</p></li><li><p><code>min_splits</code>: controls the default minimal splits threshold</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/initialization.jl#L100-L127">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.setinits!-Tuple{Model, Dict{Symbol, V} where V}" href="#MCPhylo.setinits!-Tuple{Model, Dict{Symbol, V} where V}"><code>MCPhylo.setinits!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setinits!(m::Model, inits::Dict{Symbol})</code></pre><p>Set the initial values of stochastic model nodes.</p><p>Returns the model with stochastic nodes initialized and the iter field set equal to 0.</p><ul><li><p><code>m</code> : model with nodes to be initialized.</p></li><li><p><code>inits</code> : initial values for stochastic model nodes. Dictionary keys and values should be given for each stochastic node.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/initialization.jl#L2-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.setinits!-Tuple{Model, Vector{V} where V&lt;:(Dict{Symbol, V} where V)}" href="#MCPhylo.setinits!-Tuple{Model, Vector{V} where V&lt;:(Dict{Symbol, V} where V)}"><code>MCPhylo.setinits!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setinits!(m::Model, inits::Vector{V} where V&lt;:Dict{Symbol})</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/initialization.jl#L31-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.setinputs!-Tuple{Model, Dict{Symbol, V} where V}" href="#MCPhylo.setinputs!-Tuple{Model, Dict{Symbol, V} where V}"><code>MCPhylo.setinputs!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setinputs!(m::Model, inputs::Dict{Symbol})</code></pre><p>Set the values of input model nodes.</p><ul><li><p><code>m</code> : model with input nodes to be assigned.</p></li><li><p><code>inputs</code> : values for input model nodes. Dictionary keys and values should be given for each input node.</p></li></ul><p>Returns the model with values assigned to input nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/initialization.jl#L44-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.setsamplers!-Tuple{Model, Vector{V} where V&lt;:Sampler}" href="#MCPhylo.setsamplers!-Tuple{Model, Vector{V} where V&lt;:Sampler}"><code>MCPhylo.setsamplers!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function setsamplers!(m::Model, samplers::Vector{V} where V&lt;:Sampler)</code></pre><p>Set the samplers for the Stocastic nodes of a given Model.</p><p>Returns the Model with updated samplers.</p><ul><li><p><code>m</code> : Model to update.</p></li><li><p><code>samplers</code> : block-specific sampelrs.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/initialization.jl#L67-L78">source</a></section></article><h2 id="MCMC"><a class="docs-heading-anchor" href="#MCMC">MCMC</a><a id="MCMC-1"></a><a class="docs-heading-anchor-permalink" href="#MCMC" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.mcmc" href="#MCPhylo.mcmc"><code>MCPhylo.mcmc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mcmc(mc::ModelChains, iters::Integer; verbose::Bool=true, trees::Bool=false)</code></pre><p>This function simulates additional draws from a model.</p><ul><li><p><code>mc</code> is the results of a previous call to the mcmc function.</p></li><li><p><code>iters</code> indicates the number of draws to simulate.</p></li><li><p><code>verbose</code> controls whether to print progress statements to the console.</p></li><li><p><code>trees</code> indicates if the states of the model nodes describing tree structures should be stored as well.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/mcmc.jl#L4-L16">source</a></section><section><div><pre><code class="nohighlight hljs">mcmc(m::Model, inputs::Dict{Symbol},
          inits::Vector{V} where V&lt;:Dict{Symbol},
          iters::Integer; burnin::Integer=0, thin::Integer=1,
          chains::Integer=1, verbose::Bool=true, trees::Bool=false,
          params::SimulationParameters=SimulationParameters())</code></pre><p>Simulate MCMC draws from the model <code>m</code>.</p><ul><li><p><code>inputs</code> is a dictionary storing the values for input model nodes. Dictionary keys and values should be given for each input node.</p></li><li><p><code>inits</code> contains dictionaries with initial values for stochastic model nodes. Dictionary keys and values should be given for each stochastic node. Consecutive runs of the simulator will iterate through the vector’s dictionary elements.</p></li><li><p><code>iter</code> Specifies the number of draws to generate for each simulation run</p></li><li><p><code>burnin</code> specifies the number of initial draws to discard as a burn-in sequence to allow for convergence.</p></li><li><p><code>thin</code> is the step-size between draws to store in the output.</p></li><li><p><code>chains</code> specifies the number of simulation runs to perform.</p></li><li><p><code>verbose</code> indicates whether the sampler progress should be printed at the console.</p></li><li><p><code>trees</code> indicates if the states of the model nodes describing tree structures should be stored as well.</p></li><li><p><code>params</code> pass one Struct to set all simulation parameters, instead of setting each individually</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/mcmc.jl#L53-L79">source</a></section></article><h2 id="Model-Building"><a class="docs-heading-anchor" href="#Model-Building">Model Building</a><a id="Model-Building-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Building" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MCPhylo.Model" href="#MCPhylo.Model"><code>MCPhylo.Model</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Model(; iter::Integer=0, burnin::Integer=0,
  samplers::Vector{Sampler}=Sampler[], nodes...)</code></pre><p>Construct a <code>Model</code> object that defines a model for MCMC simulation.</p><p>Returns a <code>Model</code> type object.</p><ul><li><p><code>iter</code>: current iteration of the MCMC simulation.</p></li><li><p><code>burnin</code>: number of initial draws to be discarded as a burn-in sequence to allow for convergence.</p></li><li><p><code>samplers</code>: block-specific sampling functions.</p></li><li><p><code>nodes...</code>: arbitrary number of user-specified arguments defining logical and stochastic nodes in the model. Argument values must be <code>Logical</code> or <code>Stochastic</code> type objects. Their names in the model will be taken from the argument names.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/erathorn/MCPhylo.jl/blob/55c6d1c217c0814d8662367c23831b828a7aa3b2/src/model/model.jl#L5-L21">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../distributions/">« Distributions</a><a class="docs-footer-nextpage" href="../output/">Output »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Wednesday 5 January 2022 08:48">Wednesday 5 January 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
